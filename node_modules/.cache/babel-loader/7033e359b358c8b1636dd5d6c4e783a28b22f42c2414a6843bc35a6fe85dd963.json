{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback, useRef } from 'react';\nconst useAsync = (asyncFunction, immediate = true) => {\n  _s();\n  const [status, setStatus] = useState('idle');\n  const [value, setValue] = useState(null);\n  const [error, setError] = useState(null);\n\n  // Keep track of mounted state to prevent state updates on unmounted component\n  const mountedRef = useRef(true);\n  useEffect(() => {\n    return () => {\n      mountedRef.current = false;\n    };\n  }, []);\n  const execute = useCallback(async (...args) => {\n    if (!mountedRef.current) return;\n    setStatus('pending');\n    setValue(null);\n    setError(null);\n    try {\n      const response = await asyncFunction(...args);\n      if (mountedRef.current) {\n        setValue(response);\n        setStatus('success');\n      }\n      return response;\n    } catch (error) {\n      if (mountedRef.current) {\n        setError(error);\n        setStatus('error');\n      }\n      throw error;\n    }\n  }, [asyncFunction]);\n  useEffect(() => {\n    if (immediate && mountedRef.current) {\n      execute();\n    }\n  }, [execute, immediate]);\n  return {\n    execute,\n    status,\n    value,\n    error,\n    pending: status === 'pending',\n    success: status === 'success',\n    failed: status === 'error'\n  };\n};\n_s(useAsync, \"J5oxSfPNg+f1Trh5wUxxlAge49I=\");\nexport default useAsync;","map":{"version":3,"names":["useState","useEffect","useCallback","useRef","useAsync","asyncFunction","immediate","_s","status","setStatus","value","setValue","error","setError","mountedRef","current","execute","args","response","pending","success","failed"],"sources":["C:/Users/senth/Documents/GitHub/your-pos-system/src/shared/hooks/useAsync.js"],"sourcesContent":["import { useState, useEffect, useCallback, useRef } from 'react';\r\n\r\nconst useAsync = (asyncFunction, immediate = true) => {\r\n  const [status, setStatus] = useState('idle');\r\n  const [value, setValue] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  \r\n  // Keep track of mounted state to prevent state updates on unmounted component\r\n  const mountedRef = useRef(true);\r\n  \r\n  useEffect(() => {\r\n    return () => {\r\n      mountedRef.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const execute = useCallback(async (...args) => {\r\n    if (!mountedRef.current) return;\r\n    \r\n    setStatus('pending');\r\n    setValue(null);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await asyncFunction(...args);\r\n      if (mountedRef.current) {\r\n        setValue(response);\r\n        setStatus('success');\r\n      }\r\n      return response;\r\n    } catch (error) {\r\n      if (mountedRef.current) {\r\n        setError(error);\r\n        setStatus('error');\r\n      }\r\n      throw error;\r\n    }\r\n  }, [asyncFunction]);\r\n\r\n  useEffect(() => {\r\n    if (immediate && mountedRef.current) {\r\n      execute();\r\n    }\r\n  }, [execute, immediate]);\r\n\r\n  return {\r\n    execute,\r\n    status,\r\n    value,\r\n    error,\r\n    pending: status === 'pending',\r\n    success: status === 'success',\r\n    failed: status === 'error'\r\n  };\r\n};\r\n\r\nexport default useAsync;\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,EAAEC,MAAM,QAAQ,OAAO;AAEhE,MAAMC,QAAQ,GAAGA,CAACC,aAAa,EAAEC,SAAS,GAAG,IAAI,KAAK;EAAAC,EAAA;EACpD,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGT,QAAQ,CAAC,MAAM,CAAC;EAC5C,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;;EAExC;EACA,MAAMc,UAAU,GAAGX,MAAM,CAAC,IAAI,CAAC;EAE/BF,SAAS,CAAC,MAAM;IACd,OAAO,MAAM;MACXa,UAAU,CAACC,OAAO,GAAG,KAAK;IAC5B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,OAAO,GAAGd,WAAW,CAAC,OAAO,GAAGe,IAAI,KAAK;IAC7C,IAAI,CAACH,UAAU,CAACC,OAAO,EAAE;IAEzBN,SAAS,CAAC,SAAS,CAAC;IACpBE,QAAQ,CAAC,IAAI,CAAC;IACdE,QAAQ,CAAC,IAAI,CAAC;IAEd,IAAI;MACF,MAAMK,QAAQ,GAAG,MAAMb,aAAa,CAAC,GAAGY,IAAI,CAAC;MAC7C,IAAIH,UAAU,CAACC,OAAO,EAAE;QACtBJ,QAAQ,CAACO,QAAQ,CAAC;QAClBT,SAAS,CAAC,SAAS,CAAC;MACtB;MACA,OAAOS,QAAQ;IACjB,CAAC,CAAC,OAAON,KAAK,EAAE;MACd,IAAIE,UAAU,CAACC,OAAO,EAAE;QACtBF,QAAQ,CAACD,KAAK,CAAC;QACfH,SAAS,CAAC,OAAO,CAAC;MACpB;MACA,MAAMG,KAAK;IACb;EACF,CAAC,EAAE,CAACP,aAAa,CAAC,CAAC;EAEnBJ,SAAS,CAAC,MAAM;IACd,IAAIK,SAAS,IAAIQ,UAAU,CAACC,OAAO,EAAE;MACnCC,OAAO,CAAC,CAAC;IACX;EACF,CAAC,EAAE,CAACA,OAAO,EAAEV,SAAS,CAAC,CAAC;EAExB,OAAO;IACLU,OAAO;IACPR,MAAM;IACNE,KAAK;IACLE,KAAK;IACLO,OAAO,EAAEX,MAAM,KAAK,SAAS;IAC7BY,OAAO,EAAEZ,MAAM,KAAK,SAAS;IAC7Ba,MAAM,EAAEb,MAAM,KAAK;EACrB,CAAC;AACH,CAAC;AAACD,EAAA,CApDIH,QAAQ;AAsDd,eAAeA,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}